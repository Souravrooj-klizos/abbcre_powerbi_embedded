# =============================================================================
# Power BI Embedded Portal — AB&BCRE
# Copy this file to .env and fill in real values. Never commit .env (it is in .gitignore)
# =============================================================================

# -----------------------------------------------------------------------------
# Azure AD (Entra ID) — Service Principal
# Create an App Registration in Azure Portal (see README § "How to get Azure credentials").
# Required for Power BI API auth (backend only; never expose in frontend)
# Use the secret "Value" from Certificates & secrets (not the Secret ID).
# Example format: AZURE_CLIENT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
# -----------------------------------------------------------------------------
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
AZURE_TENANT_ID=

# -----------------------------------------------------------------------------
# Power BI Embedded (App owns data — Service Principal)
# Workspace where reports live; Service Principal must be Admin on this workspace.
# Default report ID: from Power BI Service report URL (reportId in URL).
# -----------------------------------------------------------------------------
POWERBI_WORKSPACE_ID=
POWERBI_DEFAULT_REPORT_ID=

# -----------------------------------------------------------------------------
# PostgreSQL
# Use a single connection string; Next.js backend will use a connection pool (pg.Pool)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
#
# LOCAL (.env): postgresql://postgres:password@localhost:5432/abbcre_powerbi
# PRODUCTION (AWS/Vercel etc.): Use a HOSTED DB (RDS, Neon, Supabase…). Set DATABASE_URL
#   in the hosting dashboard — never use localhost in production (it would point to the
#   server, not your PC). Use different env for dev vs prod.
# -----------------------------------------------------------------------------
DATABASE_URL=

# Alternative (if you prefer separate vars; app can build DATABASE_URL from these):
# PGUSER=postgres
# PGPASSWORD=
# PGHOST=localhost
# PGPORT=5432
# PGDATABASE=abbcre_powerbi
# PGSSLMODE=prefer

# -----------------------------------------------------------------------------
# Next.js / App (NEXT_PUBLIC_* are exposed to the browser)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=AB&B | Power BI Portal
NEXT_PUBLIC_FOOTER_COPYRIGHT=AB&B Commercial Real Estate
NEXT_PUBLIC_FOOTER_PRIVACY_URL=https://abbcre.com/privacy-policy/
NEXT_PUBLIC_FOOTER_TERMS_URL=#
NEXT_PUBLIC_NAV_HOME_LABEL=Home
NEXT_PUBLIC_NAV_REPORTS_LABEL=Reports
# Dev mock user: value sent in header to /api/reports (e.g. "demo" → seed user)
NEXT_PUBLIC_MOCK_USER_ID=demo
NEXT_PUBLIC_MOCK_USER_HEADER_NAME=x-mock-user-id

# If using NextAuth or session-based auth (recommended for user → report mapping)
# NEXTAUTH_SECRET=
# NEXTAUTH_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Seed & dev (server-side; only for /api/reports/seed and mock user resolution)
# -----------------------------------------------------------------------------
# SEED_DEMO_USER_EMAIL=demo@abbcre.com
# SEED_PLACEHOLDER_WORKSPACE_ID=00000000-0000-0000-0000-000000000000
# SEED_PLACEHOLDER_REPORT_ID=00000000-0000-0000-0000-000000000001
# SEED_DEFAULT_RLS_ROLE=Viewer
# SEED_PLACEHOLDER_REPORT_NAME=Sample Report (placeholder)
# MOCK_USER_HEADER=x-mock-user-id

# -----------------------------------------------------------------------------
# Optional: Logging / environment
# -----------------------------------------------------------------------------
# Prisma log level: set to "error" for errors only; remove for query + warn + error in dev
# PRISMA_LOG=error
# NODE_ENV=development

# -----------------------------------------------------------------------------
# ArcGIS Maps SDK — OAuth 2.0
# Replaces the unsupported "ArcGIS for Power BI" embedded visual.
# The map is rendered directly using the ArcGIS JavaScript SDK.
# Register OAuth 2.0 credentials at: https://developers.arcgis.com
# Docs: https://developers.arcgis.com/documentation/security-and-authentication/
# -----------------------------------------------------------------------------
# API Key (from developers.arcgis.com → API keys)
NEXT_PUBLIC_ARCGIS_API_KEY=
# OAuth 2.0 Client ID (from developers.arcgis.com → OAuth 2.0 credentials)
NEXT_PUBLIC_ARCGIS_CLIENT_ID=
# Web Map ID (from arcgis.com/home/content.html → your Web Map item → ID in URL)
NEXT_PUBLIC_ARCGIS_WEBMAP_ID=
